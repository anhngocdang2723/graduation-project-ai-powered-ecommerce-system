## âœ… **TÃ¬nh huá»‘ng 1 â€” KhÃ¡ch há»i thÃ´ng tin sáº£n pháº©m**
**User:**
> â€œShop cÃ³ iPhone 15 Pro mÃ u tráº¯ng khÃ´ng?â€

*Luá»“ng váº­n hÃ nh:**

1. NgÆ°á»i dÃ¹ng nháº­p chat trÃªn website (storefront Next.js).
2. Request gá»­i tá»›i **Python Chatbot Service API**.
3. Agent NLP phÃ¢n loáº¡i intent â†’ `Product Inquiry`.
4. Agent gá»i Medusa REST API:

   GET /store/products?title=iphone-15-pro&color=white

5. Medusa backend query PostgreSQL â†’ tÃ¬m product + variants.
6. Medusa tráº£ JSON cho chatbot.
7. Chatbot sáº¯p xáº¿p dá»¯ liá»‡u, generate cÃ¢u tráº£ lá»i tá»± nhiÃªn báº±ng LLM.
8. Frontend hiá»ƒn thá»‹, kÃ¨m nÃºt â€œThÃªm vÃ o giá»â€.

ğŸ‘‰ KhÃ´ng Ä‘á»¥ng DB trá»±c tiáº¿p, an toÃ n, Ä‘Ãºng business logic Medusa.

---

## âœ… **TÃ¬nh huá»‘ng 2 â€” KhÃ¡ch muá»‘n Ä‘áº·t hÃ ng**
**User:**

> â€œÄáº·t cho anh 1 Ã¡o hoodie size L mÃ u Ä‘en nha.â€

**Luá»“ng váº­n hÃ nh:**

1. Intent detection â†’ `Create Order`.
2. Agent `Entity Extractor` láº¥y product, quantity, size, color.
3. Chatbot gá»i API táº¡o cart:

   POST /store/carts

4. ThÃªm sáº£n pháº©m vÃ o cart:

   POST /store/carts/:id/line-items

5. Thu tháº­p thÃ´ng tin giao hÃ ng/thanh toÃ¡n â†’ tiáº¿p tá»¥c gá»i API checkout:

   POST /store/orders

6. Medusa lÆ°u order vÃ o PostgreSQL, giáº£m tá»“n kho.
7. Chatbot tráº£ láº¡i mÃ£ Ä‘Æ¡n hÃ ng.

ğŸ‘‰ ToÃ n bá»™ nghiá»‡p vá»¥ bÃ¡n hÃ ng do Medusa xá»­ lÃ½ â€” chuáº©n e-commerce.

---

## âœ… **TÃ¬nh huá»‘ng 3 â€” Tra cá»©u Ä‘Æ¡n hÃ ng**

**User:**

> â€œÄÆ¡n #98732 cá»§a tÃ´i giao Ä‘áº¿n Ä‘Ã¢u rá»“i?â€

**Luá»“ng váº­n hÃ nh:**

1. Intent â†’ `Order Tracking`.
2. Chatbot gá»i:

   GET /store/orders?display_id=98732&email=customer@gmail.com

3. Medusa tráº£ order status, shipping progress.
4. Chatbot diá»…n giáº£i:

   > â€œÄÆ¡n Ä‘ang trÃªn Ä‘Æ°á»ng, dá»± kiáº¿n giao 25/11.â€

---

## âœ… **TÃ¬nh huá»‘ng 4 â€” Chatbot Admin quáº£n lÃ½**

**Admin trong Dashboard:**

> â€œXem lá»‹ch sá»­ há»™i thoáº¡i trong 7 ngÃ y gáº§n nháº¥t.â€

**Luá»“ng:**

1. Admin UI (plugin trong Medusa Admin) gá»i API cá»§a chatbot:

   GET /chatbot/conversations?from=7d

2. Python chatbot service query báº£ng `chatbot_logs` trong cÃ¹ng PostgreSQL.
3. Tráº£ vá» danh sÃ¡ch, hiá»ƒn thá»‹ trong dashboard.

ğŸ‘‰ Dá»¯ liá»‡u chatbot tÃ¡ch báº£ng, khÃ´ng Ä‘á»¥ng báº£ng core cá»§a Medusa.

---

## âœ… **TÃ¬nh huá»‘ng 5 â€” Fine-tune cáº¥u hÃ¬nh chatbot**

**Admin:**

> â€œTáº¯t tÃ­nh nÄƒng tá»± Ä‘á»™ng táº¡o Ä‘Æ¡n hÃ ng.â€

**Luá»“ng:**

1. Báº¥m nÃºt trong Admin UI â†’ gá»­i:

   PATCH /chatbot/settings
   { "auto_order": false }
  
2. Python service cáº­p nháº­t cáº¥u hÃ¬nh trong DB.
3. CÃ¡c agent khÃ¡c Ä‘á»c config trÆ°á»›c khi thá»±c thi.

---

## âœ… **Kiáº¿n trÃºc tá»•ng thá»ƒ (Ä‘á»“ Ã¡n Ä‘áº¹p)**

```
Storefront (Next.js Commerce)
        â†“
Chat UI â†’ Python Multi-Agent Service
        â†“         â†‘
     Medusa REST API
        â†“
   Medusa Backend
        â†“
   PostgreSQL + Redis
```